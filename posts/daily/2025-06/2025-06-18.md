# TypeScript ì œë„¤ë¦­ê³¼ ê³ ê¸‰ íƒ€ì… ì‹œìŠ¤í…œ ë§ˆìŠ¤í„°í•˜ê¸° ğŸ›¡ï¸

ì˜¤ëŠ˜ì€ TypeScriptì˜ ì§„ì§œ ê°•ë ¥í•¨ì„ ëŠê¼ˆë‹¤. ì œë„¤ë¦­(Generic)ê³¼ ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤ì„ ê³µë¶€í•˜ë©´ì„œ íƒ€ì… ì‹œìŠ¤í…œì´ ë‹¨ìˆœí•œ ë²„ê·¸ ë°©ì§€ ë„êµ¬ê°€ ì•„ë‹ˆë¼, ì½”ë“œì˜ ì•ˆì •ì„±ê³¼ ê°œë°œ ê²½í—˜ì„ íšê¸°ì ìœ¼ë¡œ í–¥ìƒì‹œí‚¤ëŠ” ë„êµ¬ë¼ëŠ” ê±¸ ê¹¨ë‹¬ì•˜ë‹¤.

## ğŸ¯ ì˜¤ëŠ˜ì˜ í•™ìŠµ ë‚´ìš©

### ğŸ”§ ì œë„¤ë¦­ì˜ ê¸°ì´ˆë¶€í„° ê³ ê¸‰ê¹Œì§€
ì œë„¤ë¦­ì„ í†µí•´ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê³  íƒ€ì… ì•ˆì „í•œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•:

```typescript
// ê¸°ë³¸ ì œë„¤ë¦­ í•¨ìˆ˜
function identity<T>(arg: T): T {
  return arg;
}

// ì œë„¤ë¦­ ë°°ì—´ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
function getFirstElement<T>(arr: T[]): T | undefined {
  return arr[0];
}

function getLastElement<T>(arr: T[]): T | undefined {
  return arr[arr.length - 1];
}

// ì œë„¤ë¦­ ì¸í„°í˜ì´ìŠ¤
interface ApiResponse<T> {
  data: T;
  status: number;
  message: string;
  timestamp: Date;
}

interface User {
  id: number;
  name: string;
  email: string;
}

interface Product {
  id: string;
  title: string;
  price: number;
}

// ì‚¬ìš© ì˜ˆì‹œ
const userResponse: ApiResponse<User> = {
  data: { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com' },
  status: 200,
  message: 'Success',
  timestamp: new Date()
};

const productResponse: ApiResponse<Product[]> = {
  data: [
    { id: 'p1', title: 'ë…¸íŠ¸ë¶', price: 1500000 },
    { id: 'p2', title: 'ë§ˆìš°ìŠ¤', price: 50000 }
  ],
  status: 200,
  message: 'Success',
  timestamp: new Date()
};
```

### ğŸ—ï¸ ì œë„¤ë¦­ í´ë˜ìŠ¤ì™€ ì œì•½ ì¡°ê±´
ë” ë³µì¡í•œ ì œë„¤ë¦­ íŒ¨í„´ë“¤ì„ í•™ìŠµí–ˆë‹¤:

```typescript
// ì œë„¤ë¦­ í´ë˜ìŠ¤
class GenericRepository<T extends { id: string | number }> {
  private items: T[] = [];
  
  add(item: T): void {
    this.items.push(item);
  }
  
  findById(id: T['id']): T | undefined {
    return this.items.find(item => item.id === id);
  }
  
  getAll(): T[] {
    return [...this.items];
  }
  
  update(id: T['id'], updates: Partial<T>): T | undefined {
    const index = this.items.findIndex(item => item.id === id);
    if (index !== -1) {
      this.items[index] = { ...this.items[index], ...updates };
      return this.items[index];
    }
    return undefined;
  }
  
  delete(id: T['id']): boolean {
    const index = this.items.findIndex(item => item.id === id);
    if (index !== -1) {
      this.items.splice(index, 1);
      return true;
    }
    return false;
  }
}

// í‚¤ ì œì•½ ì¡°ê±´ì„ ì‚¬ìš©í•œ íƒ€ì… ì•ˆì „í•œ ê°ì²´ ì ‘ê·¼
function getProperty<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

const user = { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com', age: 30 };
const userName = getProperty(user, 'name'); // string íƒ€ì…
const userAge = getProperty(user, 'age');   // number íƒ€ì…
// const invalid = getProperty(user, 'salary'); // ì»´íŒŒì¼ ì—ëŸ¬!

// ì¡°ê±´ë¶€ íƒ€ì…ì„ í™œìš©í•œ ê³ ê¸‰ ì œë„¤ë¦­
type NonNullable<T> = T extends null | undefined ? never : T;
type FunctionPropertyNames<T> = {
  [K in keyof T]: T[K] extends Function ? K : never;
}[keyof T];

type FunctionProperties<T> = Pick<T, FunctionPropertyNames<T>>;

interface Example {
  name: string;
  age: number;
  greet(): void;
  calculate(x: number): number;
}

// í•¨ìˆ˜ ì†ì„±ë§Œ ì¶”ì¶œ
type ExampleFunctions = FunctionProperties<Example>;
// { greet: () => void; calculate: (x: number) => number; }
```

### ğŸ¨ ìœ í‹¸ë¦¬í‹° íƒ€ì… í™œìš©í•˜ê¸°
TypeScriptì˜ ë‚´ì¥ ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤ì„ ì‹¤ì „ì—ì„œ í™œìš©í•˜ëŠ” ë°©ë²•:

```typescript
interface UserProfile {
  id: number;
  name: string;
  email: string;
  password: string;
  avatar?: string;
  createdAt: Date;
  updatedAt: Date;
}

// Partial - ëª¨ë“  ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ë§Œë“¤ê¸°
type PartialUserProfile = Partial<UserProfile>;
function updateUserProfile(id: number, updates: PartialUserProfile): void {
  // ì‚¬ìš©ì ì •ë³´ ì—…ë°ì´íŠ¸ ë¡œì§
  console.log(`ì‚¬ìš©ì ${id} ì •ë³´ ì—…ë°ì´íŠ¸:`, updates);
}

// Pick - íŠ¹ì • ì†ì„±ë§Œ ì„ íƒí•˜ê¸°
type UserPublicInfo = Pick<UserProfile, 'id' | 'name' | 'avatar'>;
function getUserPublicInfo(user: UserProfile): UserPublicInfo {
  return {
    id: user.id,
    name: user.name,
    avatar: user.avatar
  };
}

// Omit - íŠ¹ì • ì†ì„± ì œì™¸í•˜ê¸°
type UserCreateData = Omit<UserProfile, 'id' | 'createdAt' | 'updatedAt'>;
function createUser(userData: UserCreateData): UserProfile {
  const now = new Date();
  return {
    id: Math.floor(Math.random() * 10000),
    ...userData,
    createdAt: now,
    updatedAt: now
  };
}

// Record - í‚¤-ê°’ íƒ€ì… ìƒì„±
type UserRole = 'admin' | 'user' | 'moderator';
type RolePermissions = Record<UserRole, string[]>;

const permissions: RolePermissions = {
  admin: ['read', 'write', 'delete', 'manage'],
  moderator: ['read', 'write', 'moderate'],
  user: ['read']
};

// Excludeì™€ Extract - ìœ ë‹ˆì˜¨ íƒ€ì… ì¡°ì‘
type AllColors = 'red' | 'green' | 'blue' | 'yellow' | 'purple';
type PrimaryColors = Extract<AllColors, 'red' | 'green' | 'blue'>;
type NonPrimaryColors = Exclude<AllColors, 'red' | 'green' | 'blue'>;

// ReturnType - í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì… ì¶”ì¶œ
function fetchUserData(id: number) {
  return {
    user: { id, name: 'User ' + id },
    lastLogin: new Date(),
    preferences: { theme: 'dark', language: 'ko' }
  };
}

type FetchUserDataReturn = ReturnType<typeof fetchUserData>;
// {
//   user: { id: number; name: string; };
//   lastLogin: Date;
//   preferences: { theme: string; language: string; };
// }
```

### ğŸ­ ê³ ê¸‰ íƒ€ì… íŒ¨í„´ê³¼ ë§µë“œ íƒ€ì…
ì •ë§ ê°•ë ¥í•œ íƒ€ì… ì‹œìŠ¤í…œì˜ í™œìš©ë²•ë“¤:

```typescript
// ë§µë“œ íƒ€ì…ìœ¼ë¡œ ì½ê¸° ì „ìš© íƒ€ì… ë§Œë“¤ê¸°
type ReadOnly<T> = {
  readonly [P in keyof T]: T[P];
};

// ì¤‘ì²©ëœ ê°ì²´ë„ ê¹Šê²Œ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë§Œë“¤ê¸°
type DeepReadOnly<T> = {
  readonly [P in keyof T]: T[P] extends object ? DeepReadOnly<T[P]> : T[P];
};

// ì„ íƒì  ì†ì„±ì„ í•„ìˆ˜ë¡œ ë§Œë“¤ê¸°
type RequiredBy<T, K extends keyof T> = T & Required<Pick<T, K>>;

interface UserSettings {
  theme?: 'light' | 'dark';
  notifications?: boolean;
  language?: string;
  timezone?: string;
}

// themeì™€ notificationsëŠ” í•„ìˆ˜, ë‚˜ë¨¸ì§€ëŠ” ì„ íƒì 
type UserSettingsWithRequired = RequiredBy<UserSettings, 'theme' | 'notifications'>;

// ì¡°ê±´ë¶€ íƒ€ì…ìœ¼ë¡œ ë°°ì—´/ë‹¨ì¼ ê°’ ì²˜ë¦¬
type ArrayOrSingle<T> = T extends any[] ? T : T[];

function processItems<T>(items: T): ArrayOrSingle<T> {
  return Array.isArray(items) ? items : [items] as ArrayOrSingle<T>;
}

// í•¨ìˆ˜ ì˜¤ë²„ë¡œë”©ì„ íƒ€ì…ìœ¼ë¡œ í‘œí˜„
interface EventEmitter {
  on(event: 'data', callback: (data: string) => void): void;
  on(event: 'error', callback: (error: Error) => void): void;
  on(event: 'close', callback: () => void): void;
  on(event: string, callback: (...args: any[]) => void): void;
}

// ê³ ê¸‰ ë¬¸ìì—´ ë¦¬í„°ëŸ´ íƒ€ì…
type CamelCase<S extends string> = S extends `${infer P1}_${infer P2}${infer P3}`
  ? `${P1}${Uppercase<P2>}${CamelCase<P3>}`
  : S;

type SnakeCaseToCamelCase<T> = {
  [K in keyof T as CamelCase<string & K>]: T[K];
};

// API ì‘ë‹µ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ë³€í™˜
interface ApiUser {
  user_id: number;
  user_name: string;
  created_at: string;
  updated_at: string;
}

type FrontendUser = SnakeCaseToCamelCase<ApiUser>;
// {
//   userId: number;
//   userName: string;
//   createdAt: string;
//   updatedAt: string;
// }
```

### ğŸ”„ ì‹¤ì „ ì˜ˆì œ: íƒ€ì… ì•ˆì „í•œ ìƒíƒœ ê´€ë¦¬
Reduxì™€ ìœ ì‚¬í•œ íƒ€ì… ì•ˆì „í•œ ìƒíƒœ ê´€ë¦¬ ì‹œìŠ¤í…œ:

```typescript
// ì•¡ì…˜ íƒ€ì… ì •ì˜
interface IncrementAction {
  type: 'INCREMENT';
  payload?: number;
}

interface DecrementAction {
  type: 'DECREMENT';
  payload?: number;
}

interface ResetAction {
  type: 'RESET';
}

interface SetValueAction {
  type: 'SET_VALUE';
  payload: number;
}

type CounterAction = IncrementAction | DecrementAction | ResetAction | SetValueAction;

// ìƒíƒœ íƒ€ì…
interface CounterState {
  value: number;
  history: number[];
}

// íƒ€ì… ì•ˆì „í•œ ë¦¬ë“€ì„œ
function counterReducer(state: CounterState, action: CounterAction): CounterState {
  switch (action.type) {
    case 'INCREMENT':
      const incrementValue = action.payload ?? 1;
      return {
        value: state.value + incrementValue,
        history: [...state.history, state.value + incrementValue]
      };
      
    case 'DECREMENT':
      const decrementValue = action.payload ?? 1;
      return {
        value: state.value - decrementValue,
        history: [...state.history, state.value - decrementValue]
      };
      
    case 'RESET':
      return {
        value: 0,
        history: [...state.history, 0]
      };
      
    case 'SET_VALUE':
      return {
        value: action.payload,
        history: [...state.history, action.payload]
      };
      
    default:
      // TypeScriptê°€ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ì²´í¬í•˜ë„ë¡ ê°•ì œ
      const exhaustiveCheck: never = action;
      return state;
  }
}

// ì•¡ì…˜ ìƒì„±ì í•¨ìˆ˜ë“¤
const actionCreators = {
  increment: (amount?: number): IncrementAction => ({ type: 'INCREMENT', payload: amount }),
  decrement: (amount?: number): DecrementAction => ({ type: 'DECREMENT', payload: amount }),
  reset: (): ResetAction => ({ type: 'RESET' }),
  setValue: (value: number): SetValueAction => ({ type: 'SET_VALUE', payload: value })
};

// ì‚¬ìš© ì˜ˆì‹œ
const initialState: CounterState = { value: 0, history: [0] };
let state = initialState;

state = counterReducer(state, actionCreators.increment(5));
state = counterReducer(state, actionCreators.decrement(2));
state = counterReducer(state, actionCreators.setValue(10));

console.log(state); // { value: 10, history: [0, 5, 3, 10] }
```

## ğŸ¤” ì˜¤ëŠ˜ì˜ íšŒê³ 

### ì˜ëœ ì 
1. **ì œë„¤ë¦­ ë§ˆìŠ¤í„°**: ê¸°ì´ˆë¶€í„° ê³ ê¸‰ íŒ¨í„´ê¹Œì§€ ì™„ì „ ì´í•´
2. **ìœ í‹¸ë¦¬í‹° íƒ€ì…**: ì‹¤ì „ì—ì„œ ë°”ë¡œ ì¨ë¨¹ì„ ìˆ˜ ìˆëŠ” íŒ¨í„´ë“¤ í•™ìŠµ
3. **íƒ€ì… ì•ˆì „ì„±**: ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì»´íŒŒì¼ íƒ€ì„ì— ì¡ëŠ” ë°©ë²• í„°ë“
4. **ê°œë°œ ê²½í—˜**: IDE ìë™ì™„ì„±ê³¼ ì¸í…”ë¦¬ì„¼ìŠ¤ì˜ ìœ„ë ¥ ì²´ê°

### ë°°ìš´ ì 
1. **íƒ€ì… ì‹œìŠ¤í…œì˜ í˜**: ë²„ê·¸ ë°©ì§€ë¥¼ ë„˜ì–´ì„  ê°œë°œ ìƒì‚°ì„± í–¥ìƒ
2. **ë§µë“œ íƒ€ì…**: ê¸°ì¡´ íƒ€ì…ì„ ë³€í˜•í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬
3. **ì¡°ê±´ë¶€ íƒ€ì…**: ë³µì¡í•œ íƒ€ì… ë¡œì§ë„ í‘œí˜„ ê°€ëŠ¥
4. **ë¬¸ìì—´ ë¦¬í„°ëŸ´**: API ì‘ë‹µ ë³€í™˜ ë“± ì‹¤ë¬´ì—ì„œ ìœ ìš©í•œ íŒ¨í„´

### ë‚´ì¼ í•  ì¼
1. **ë°ì½”ë ˆì´í„°**: TypeScript ë°ì½”ë ˆì´í„° íŒ¨í„´ í•™ìŠµ
2. **ëª¨ë“ˆ ì‹œìŠ¤í…œ**: ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì™€ ëª¨ë“ˆ ì‹œìŠ¤í…œ ì™„ì „ ì •ë³µ
3. **ì‹¤ìŠµ í”„ë¡œì íŠ¸**: íƒ€ì… ì•ˆì „í•œ API í´ë¼ì´ì–¸íŠ¸ ë§Œë“¤ê¸°

## ğŸ’» ì½”ë“œ ì‹¤í—˜ì‹¤

### íƒ€ì… ì•ˆì „í•œ ì´ë²¤íŠ¸ ì—ë¯¸í„°
```typescript
type EventMap = {
  'user:login': { userId: number; timestamp: Date };
  'user:logout': { userId: number };
  'data:update': { id: string; data: any };
  'error': { message: string; code: number };
};

class TypedEventEmitter<T extends Record<string, any>> {
  private listeners: {
    [K in keyof T]?: Array<(data: T[K]) => void>;
  } = {};
  
  on<K extends keyof T>(event: K, callback: (data: T[K]) => void): void {
    if (!this.listeners[event]) {
      this.listeners[event] = [];
    }
    this.listeners[event]!.push(callback);
  }
  
  emit<K extends keyof T>(event: K, data: T[K]): void {
    const callbacks = this.listeners[event];
    if (callbacks) {
      callbacks.forEach(callback => callback(data));
    }
  }
  
  off<K extends keyof T>(event: K, callback: (data: T[K]) => void): void {
    const callbacks = this.listeners[event];
    if (callbacks) {
      const index = callbacks.indexOf(callback);
      if (index !== -1) {
        callbacks.splice(index, 1);
      }
    }
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
const emitter = new TypedEventEmitter<EventMap>();

emitter.on('user:login', (data) => {
  // dataëŠ” ìë™ìœ¼ë¡œ { userId: number; timestamp: Date } íƒ€ì…
  console.log(`ì‚¬ìš©ì ${data.userId}ê°€ ${data.timestamp}ì— ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.`);
});

emitter.on('error', (data) => {
  // dataëŠ” ìë™ìœ¼ë¡œ { message: string; code: number } íƒ€ì…
  console.error(`ì—ëŸ¬ ë°œìƒ: ${data.message} (ì½”ë“œ: ${data.code})`);
});

// íƒ€ì… ì•ˆì „í•œ ì´ë²¤íŠ¸ ë°œìƒ
emitter.emit('user:login', { userId: 123, timestamp: new Date() });
emitter.emit('error', { message: 'ì„œë²„ ì˜¤ë¥˜', code: 500 });

// ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
// emitter.emit('user:login', { userId: '123' }); // íƒ€ì… ì˜¤ë¥˜!
// emitter.emit('unknown:event', {}); // ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì´ë²¤íŠ¸!
```

## ğŸ’¡ ì˜¤ëŠ˜ì˜ ì¸ì‚¬ì´íŠ¸

TypeScriptì˜ íƒ€ì… ì‹œìŠ¤í…œì„ ê¹Šì´ ìˆê²Œ ê³µë¶€í•˜ë©´ì„œ ì •ë§ ë†€ëë‹¤. ì²˜ìŒì—” ë‹¨ìˆœíˆ JavaScriptì— íƒ€ì…ë§Œ ì¶”ê°€í•œ ì–¸ì–´ë¼ê³  ìƒê°í–ˆëŠ”ë°, ì‹¤ì œë¡œëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ì°¨ì›ì˜ ë„êµ¬ì˜€ë‹¤.

íŠ¹íˆ ì œë„¤ë¦­ê³¼ ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤ì„ í™œìš©í•˜ë©´ì„œ ëŠë‚€ ê±´ë°, íƒ€ì… ì‹œìŠ¤í…œ ìì²´ê°€ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì²˜ëŸ¼ ê°•ë ¥í•˜ë‹¤ëŠ” ì ì´ì—ˆë‹¤. ì¡°ê±´ë¶€ íƒ€ì…ìœ¼ë¡œ ë³µì¡í•œ ë¡œì§ì„ í‘œí˜„í•˜ê³ , ë§µë“œ íƒ€ì…ìœ¼ë¡œ ê¸°ì¡´ íƒ€ì…ì„ ë³€í˜•í•˜ëŠ” ê³¼ì •ì´ ë§ˆì¹˜ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ í•˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤.

ê°€ì¥ ì¸ìƒì ì´ì—ˆë˜ ê±´ íƒ€ì… ì•ˆì „í•œ ì´ë²¤íŠ¸ ì—ë¯¸í„°ë¥¼ ë§Œë“¤ì–´ë³¸ ê²ƒì´ì—ˆë‹¤. ì´ë²¤íŠ¸ ì´ë¦„ê³¼ ë°ì´í„° íƒ€ì…ì´ ì™„ë²½í•˜ê²Œ ì—°ê²°ë˜ì–´ì„œ, ì˜ëª»ëœ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ë©´ ì»´íŒŒì¼ íƒ€ì„ì— ë°”ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì´ëŸ° ì‹ìœ¼ë¡œ ê°œë°œí•˜ë©´ ëŸ°íƒ€ì„ ì—ëŸ¬ê°€ ê±°ì˜ ì—†ëŠ” ê²¬ê³ í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

ë‚´ì¼ì€ ë°ì½”ë ˆì´í„°ë¥¼ ê³µë¶€í•´ì„œ TypeScriptì˜ ë©”íƒ€í”„ë¡œê·¸ë˜ë° ëŠ¥ë ¥ê¹Œì§€ ë§ˆìŠ¤í„°í•´ë³´ì! ğŸ”¥

---

TypeScriptì˜ ì§„ì •í•œ í˜ì„ ê¹¨ë‹¬ì€ í•˜ë£¨! ì´ì œ íƒ€ì… ì‹œìŠ¤í…œì´ ì´ë ‡ê²Œ ì¬ë¯¸ìˆì„ ì¤„ì´ì•¼ âš¡